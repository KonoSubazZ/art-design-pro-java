import{_ as e}from"./index-ud5QEMuE.js";/* empty css                       *//* empty css                       */import{h as a,r as l,l as t,c as d,d as n,f as u,J as o,e as s,a3 as r,P as c,$ as p,a0 as i,M as v,v as m,u as y,aw as g,Q as b,R as f,S as D,as as V,ax as _,j as Y,ay as w,i as k,X as h,L as M,a8 as x}from"./vendor-CbDhNKi9.js";const C={class:"page-content"},U=["onClick"],j={class:"calendar-date"},$={class:"calendar-events"},q=["onClick"],I={class:"dialog-footer"},S=e(a({__name:"index",setup(e){const a=[{label:"基本",value:"bg-primary"},{label:"成功",value:"bg-success"},{label:"警告",value:"bg-warning"},{label:"危险",value:"bg-danger"}],S=l(new Date("2025-02-07")),J=l([{date:"2025-02-01",content:"产品需求评审",type:"bg-primary"},{date:"2025-02-03",endDate:"2025-02-05",content:"项目周报会议（跨日期）",type:"bg-primary"},{date:"2025-02-10",content:"瑜伽课程",type:"bg-success"},{date:"2025-02-15",content:"团队建设活动",type:"bg-primary"},{date:"2025-02-20",content:"健身训练",type:"bg-success"},{date:"2025-02-20",content:"代码评审",type:"bg-danger"},{date:"2025-02-20",content:"团队午餐",type:"bg-primary"},{date:"2025-02-20",content:"项目进度汇报",type:"bg-warning"},{date:"2025-02-28",content:"月度总结会",type:"bg-warning"}]),L=l(!1),P=l("添加事件"),Q=l(-1),R=l({date:"",endDate:"",content:"",type:"bg-primary"}),X=t((()=>Q.value>=0)),z=()=>{R.value={date:"",endDate:"",content:"",type:"bg-primary"},Q.value=-1},A=()=>{R.value.content&&R.value.date&&(X.value?J.value[Q.value]={...R.value}:J.value.push({...R.value}),L.value=!1,z())},B=()=>{X.value&&(J.value.splice(Q.value,1),L.value=!1,z())};return(e,l)=>{const t=g,E=D,F=f,G=_,H=V,K=w,N=b,O=M,T=x;return n(),d("div",C,[u(t,{modelValue:y(S),"onUpdate:modelValue":l[0]||(l[0]=e=>m(S)?S.value=e:null)},{"date-cell":o((({data:e})=>{return[s("div",{class:r(["calendar-cell",{"is-selected":e.isSelected}]),onClick:a=>{return l=e.day,P.value="添加事件",R.value={date:l,content:"",type:"bg-primary"},Q.value=-1,void(L.value=!0);var l}},[s("p",j,c((l=e.day,l.split("-")[2])),1),s("div",$,[(n(!0),d(p,null,i((a=e.day,J.value.filter((e=>{const l=new Date(e.date),t=new Date(a),d=e.endDate?new Date(e.endDate):new Date(e.date);return t>=l&&t<=d}))),(e=>(n(),d("div",{key:`${e.date}-${e.content}`,class:"calendar-event",onClick:v((a=>(e=>{P.value="编辑事件",R.value={...e},Q.value=J.value.findIndex((a=>a.date===e.date&&a.content===e.content)),L.value=!0})(e)),["stop"])},[s("div",{class:r(["event-tag",[`${e.type||"bg-primary"}`]])},c(e.content),3)],8,q)))),128))])],10,U)];var a,l})),_:1},8,["modelValue"]),u(T,{modelValue:y(L),"onUpdate:modelValue":l[5]||(l[5]=e=>m(L)?L.value=e:null),title:y(P),width:"600px",onClosed:z},{footer:o((()=>[s("span",I,[y(X)?(n(),k(O,{key:0,type:"danger",onClick:B},{default:o((()=>l[6]||(l[6]=[Y(" 删除 ")]))),_:1,__:[6]})):h("",!0),u(O,{type:"primary",onClick:A},{default:o((()=>[Y(c(y(X)?"更新":"添加"),1)])),_:1})])])),default:o((()=>[u(N,{model:y(R),"label-width":"80px"},{default:o((()=>[u(F,{label:"活动标题",required:""},{default:o((()=>[u(E,{modelValue:y(R).content,"onUpdate:modelValue":l[1]||(l[1]=e=>y(R).content=e),placeholder:"请输入活动标题"},null,8,["modelValue"])])),_:1}),u(F,{label:"事件颜色"},{default:o((()=>[u(H,{modelValue:y(R).type,"onUpdate:modelValue":l[2]||(l[2]=e=>y(R).type=e)},{default:o((()=>[(n(),d(p,null,i(a,(e=>u(G,{key:e.value,value:e.value},{default:o((()=>[Y(c(e.label),1)])),_:2},1032,["value"]))),64))])),_:1},8,["modelValue"])])),_:1}),u(F,{label:"开始日期",required:""},{default:o((()=>[u(K,{style:{width:"100%"},modelValue:y(R).date,"onUpdate:modelValue":l[3]||(l[3]=e=>y(R).date=e),type:"date",placeholder:"选择日期",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD"},null,8,["modelValue"])])),_:1}),u(F,{label:"结束日期"},{default:o((()=>[u(K,{style:{width:"100%"},modelValue:y(R).endDate,"onUpdate:modelValue":l[4]||(l[4]=e=>y(R).endDate=e),type:"date",placeholder:"选择结束日期",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD","min-date":y(R).date},null,8,["modelValue","min-date"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue","title"])])}}}),[["__scopeId","data-v-d442f1d9"]]);export{S as default};
