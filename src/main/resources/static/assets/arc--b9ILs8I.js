import{M as n,N as t,O as r,P as c,Q as e,R as a,S as u,T as i,V as o,W as y,X as l,Y as f,Z as s,$ as x,a0 as p}from"./index-DCOMMHXY.js";function h(n){return n.innerRadius}function v(n){return n.outerRadius}function d(n){return n.startAngle}function g(n){return n.endAngle}function T(n){return n&&n.padAngle}function m(n,t,r,c,e,a,u){var i=n-r,o=t-c,y=(u?a:-a)/l(i*i+o*o),f=y*o,s=-y*i,x=n+f,h=t+s,v=r+f,d=c+s,g=(x+v)/2,T=(h+d)/2,m=v-x,R=d-h,A=m*m+R*R,P=e-a,j=x*d-v*h,K=(R<0?-1:1)*l(p(0,P*P*A-j*j)),M=(j*R-m*K)/A,N=(-j*m-R*K)/A,O=(j*R+m*K)/A,Q=(-j*m+R*K)/A,S=M-g,V=N-T,W=O-g,X=Q-T;return S*S+V*V>W*W+X*X&&(M=O,N=Q),{cx:M,cy:N,x01:-f,y01:-s,x11:M*(e/P-1),y11:N*(e/P-1)}}function R(){var p=h,R=v,A=o(0),P=null,j=d,K=g,M=T,N=null,O=n(Q);function Q(){var n,o,h=+p.apply(this,arguments),v=+R.apply(this,arguments),d=j.apply(this,arguments)-t,g=K.apply(this,arguments)-t,T=i(g-d),Q=g>d;if(N||(N=n=O()),v<h&&(o=v,v=h,h=o),v>r)if(T>c-r)N.moveTo(v*e(d),v*a(d)),N.arc(0,0,v,d,g,!Q),h>r&&(N.moveTo(h*e(g),h*a(g)),N.arc(0,0,h,g,d,Q));else{var S,V,W=d,X=g,Y=d,Z=g,$=T,b=T,k=M.apply(this,arguments)/2,q=k>r&&(P?+P.apply(this,arguments):l(h*h+v*v)),w=u(i(v-h)/2,+A.apply(this,arguments)),z=w,B=w;if(q>r){var C=s(q/h*a(k)),D=s(q/v*a(k));($-=2*C)>r?(Y+=C*=Q?1:-1,Z-=C):($=0,Y=Z=(d+g)/2),(b-=2*D)>r?(W+=D*=Q?1:-1,X-=D):(b=0,W=X=(d+g)/2)}var E=v*e(W),F=v*a(W),G=h*e(Z),H=h*a(Z);if(w>r){var I,J=v*e(X),L=v*a(X),U=h*e(Y),_=h*a(Y);if(T<y)if(I=function(n,t,c,e,a,u,i,o){var y=c-n,l=e-t,f=i-a,s=o-u,x=s*y-f*l;if(!(x*x<r))return[n+(x=(f*(t-u)-s*(n-a))/x)*y,t+x*l]}(E,F,U,_,J,L,G,H)){var nn=E-I[0],tn=F-I[1],rn=J-I[0],cn=L-I[1],en=1/a(x((nn*rn+tn*cn)/(l(nn*nn+tn*tn)*l(rn*rn+cn*cn)))/2),an=l(I[0]*I[0]+I[1]*I[1]);z=u(w,(h-an)/(en-1)),B=u(w,(v-an)/(en+1))}else z=B=0}b>r?B>r?(S=m(U,_,E,F,v,B,Q),V=m(J,L,G,H,v,B,Q),N.moveTo(S.cx+S.x01,S.cy+S.y01),B<w?N.arc(S.cx,S.cy,B,f(S.y01,S.x01),f(V.y01,V.x01),!Q):(N.arc(S.cx,S.cy,B,f(S.y01,S.x01),f(S.y11,S.x11),!Q),N.arc(0,0,v,f(S.cy+S.y11,S.cx+S.x11),f(V.cy+V.y11,V.cx+V.x11),!Q),N.arc(V.cx,V.cy,B,f(V.y11,V.x11),f(V.y01,V.x01),!Q))):(N.moveTo(E,F),N.arc(0,0,v,W,X,!Q)):N.moveTo(E,F),h>r&&$>r?z>r?(S=m(G,H,J,L,h,-z,Q),V=m(E,F,U,_,h,-z,Q),N.lineTo(S.cx+S.x01,S.cy+S.y01),z<w?N.arc(S.cx,S.cy,z,f(S.y01,S.x01),f(V.y01,V.x01),!Q):(N.arc(S.cx,S.cy,z,f(S.y01,S.x01),f(S.y11,S.x11),!Q),N.arc(0,0,h,f(S.cy+S.y11,S.cx+S.x11),f(V.cy+V.y11,V.cx+V.x11),Q),N.arc(V.cx,V.cy,z,f(V.y11,V.x11),f(V.y01,V.x01),!Q))):N.arc(0,0,h,Z,Y,Q):N.lineTo(G,H)}else N.moveTo(0,0);if(N.closePath(),n)return N=null,n+""||null}return Q.centroid=function(){var n=(+p.apply(this,arguments)+ +R.apply(this,arguments))/2,t=(+j.apply(this,arguments)+ +K.apply(this,arguments))/2-y/2;return[e(t)*n,a(t)*n]},Q.innerRadius=function(n){return arguments.length?(p="function"==typeof n?n:o(+n),Q):p},Q.outerRadius=function(n){return arguments.length?(R="function"==typeof n?n:o(+n),Q):R},Q.cornerRadius=function(n){return arguments.length?(A="function"==typeof n?n:o(+n),Q):A},Q.padRadius=function(n){return arguments.length?(P=null==n?null:"function"==typeof n?n:o(+n),Q):P},Q.startAngle=function(n){return arguments.length?(j="function"==typeof n?n:o(+n),Q):j},Q.endAngle=function(n){return arguments.length?(K="function"==typeof n?n:o(+n),Q):K},Q.padAngle=function(n){return arguments.length?(M="function"==typeof n?n:o(+n),Q):M},Q.context=function(n){return arguments.length?(N=null==n?null:n,Q):N},Q}export{R as d};
