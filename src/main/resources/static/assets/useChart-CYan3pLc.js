var e=Object.defineProperty,t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,r=(t,n,i)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[n]=i,o=(e,o)=>{for(var l in o||(o={}))n.call(o,l)&&r(e,l,o[l]);if(t)for(var l of t(o))i.call(o,l)&&r(e,l,o[l]);return e};import{i as l}from"./index-Bqf32_B1.js";import{s as a,r as s,w as u,e as c,aF as h,B as m,n as f}from"./vendor-CAvuXLR8.js";import{g as p,b as d}from"./index-BJ9bV_jd.js";const y=()=>({chartHeight:"16rem",fontSize:13,fontColor:"#999",themeColor:p("--el-color-primary-light-1")});function v(e={}){const{initOptions:t,initDelay:n=0,threshold:i=.1,autoTheme:r=!0}=e,p=d(),{isDark:v,menuOpen:w,menuType:g}=a(p),b=s();let O=null,E=null,S=null,C=null,T=null,D=!1;const z=()=>{T&&cancelAnimationFrame(T),T=requestAnimationFrame((()=>{I(),T=null}))},A=()=>{C&&clearTimeout(C),C=window.setTimeout((()=>{z(),C=null}),100)};u(w,(()=>{f((()=>{z()}));[50,100,200,350].forEach((e=>{setTimeout((()=>{z()}),e)}))})),u(g,(()=>{f((()=>{z()})),setTimeout((()=>{[50,100,200].forEach((e=>{setTimeout((()=>{z()}),e)}))}),0)})),r&&u(v,(()=>{O&&!D&&requestAnimationFrame((()=>{if(O&&!D){const e=O.getOption();e&&F(e)}}))}));const j=()=>{E&&(E.disconnect(),E=null)},x=(e={})=>{if(!b.value||D)return;const r=o(o({},t),e);try{if((e=>{const t=e.getBoundingClientRect();return t.width>0&&t.height>0&&t.top<window.innerHeight&&t.bottom>0})(b.value)){const e=()=>{O||!b.value||D||(O=l(b.value)),O&&!D&&(O.setOption(r),S=null)};n>0?setTimeout(e,n):e()}else S=r,!E&&b.value&&(E=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&S&&!D&&requestAnimationFrame((()=>{if(!D&&S)try{O||(O=l(e.target)),O.setOption(S),S=null,j()}catch(t){}}))}))}),{threshold:i}),E.observe(b.value))}catch(a){}},F=e=>{if(!D)try{if(!O)return void x(e);O.setOption(e)}catch(t){}},I=()=>{if(O&&!D)try{O.resize()}catch(e){}},L=()=>{if(D=!0,O)try{O.dispose()}catch(e){}finally{O=null}j(),C&&(clearTimeout(C),C=null),T&&(cancelAnimationFrame(T),T=null),S=null};return c((()=>{window.addEventListener("resize",A)})),h((()=>{window.removeEventListener("resize",A)})),m((()=>{L()})),{isDark:v,chartRef:b,initChart:x,updateChart:F,handleResize:I,destroyChart:L,getChartInstance:()=>O,isChartInitialized:()=>null!==O,getAxisLineStyle:(e=!0)=>({show:e,lineStyle:{color:v.value?"#444":"#EDEDED",width:1}}),getSplitLineStyle:(e=!0)=>({show:e,lineStyle:{color:v.value?"#444":"#EDEDED",width:1,type:"dashed"}}),getAxisLabelStyle:(e=!0)=>({show:e,color:y().fontColor,fontSize:y().fontSize}),getAxisTickStyle:()=>({show:!1}),useChartOps:y}}export{y as a,v as u};
